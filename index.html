<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ã‚†ã‹ã¡ãƒœã‚¿ãƒ³</title>
<link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;700;900&family=M+PLUS+Rounded+1c:wght@400;700&display=swap" rel="stylesheet">
<style>
  :root {
    --pink:    #ff6eb4;
    --peach:   #ffb3d1;
    --yellow:  #ffe066;
    --mint:    #7fe7cc;
    --lavender:#c9b8ff;
    --sky:     #a8d8ff;
    --bg:      #fff5f9;
    --card:    #ffffff;
    --text:    #4a2040;
    --shadow:  rgba(255,110,180,0.18);
  }

  * { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    font-family: 'Zen Maru Gothic', 'M PLUS Rounded 1c', sans-serif;
    background: var(--bg);
    min-height: 100vh;
    overflow-x: hidden;
  }

  /* â”€â”€ èƒŒæ™¯ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ â”€â”€ */
  body::before {
    content: '';
    position: fixed; inset: 0;
    background:
      radial-gradient(circle at 10% 20%, #ffd6ec55 0%, transparent 40%),
      radial-gradient(circle at 90% 80%, #d6f0ff55 0%, transparent 40%),
      radial-gradient(circle at 50% 50%, #fffbe6aa 0%, transparent 60%);
    pointer-events: none; z-index: 0;
  }

  /* â”€â”€ ãƒ˜ãƒƒãƒ€ãƒ¼ â”€â”€ */
  header {
    position: relative; z-index: 1;
    text-align: center;
    padding: 2.5rem 1rem 1rem;
  }
  header .emoji-row {
    font-size: 2rem;
    letter-spacing: 0.3em;
    margin-bottom: 0.5rem;
    animation: bounce-row 2s ease-in-out infinite;
  }
  @keyframes bounce-row {
    0%,100% { transform: translateY(0); }
    50%      { transform: translateY(-6px); }
  }
  header h1 {
    font-size: clamp(1.6rem, 5vw, 2.6rem);
    font-weight: 900;
    background: linear-gradient(135deg, var(--pink) 0%, var(--lavender) 50%, var(--sky) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    filter: drop-shadow(0 2px 8px var(--shadow));
    letter-spacing: 0.05em;
  }
  header p {
    margin-top: 0.4rem;
    color: #c070a0;
    font-size: 0.9rem;
  }

  

  /* â”€â”€ ã‚°ãƒªãƒƒãƒ‰ â”€â”€ */
  main {
    position: relative; z-index: 1;
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
    gap: 1rem;
    padding: 1.2rem 1.2rem 3rem;
    max-width: 1200px;
    margin: 0 auto;
  }

  /* â”€â”€ ã‚«ãƒ¼ãƒ‰ â”€â”€ */
  .card {
    background: var(--card);
    border-radius: 20px;
    padding: 1.1rem 1.2rem;
    box-shadow: 0 4px 18px var(--shadow);
    display: flex; flex-direction: column; gap: 0.7rem;
    transition: transform 0.2s, box-shadow 0.2s;
    border: 2px solid transparent;
    position: relative;
    overflow: hidden;
  }
  .card::before {
    content: '';
    position: absolute; top: 0; left: 0; right: 0; height: 4px;
    background: var(--accent-color, var(--pink));
    border-radius: 20px 20px 0 0;
  }
  .card:hover {
    transform: translateY(-4px) scale(1.01);
    box-shadow: 0 10px 30px var(--shadow);
    border-color: var(--accent-color, var(--peach));
  }
  .card.playing {
    border-color: var(--pink);
    background: linear-gradient(135deg, #fff0f8 0%, #f8f0ff 100%);
    animation: pulse-card 1.5s ease-in-out infinite;
  }
  @keyframes pulse-card {
    0%,100% { box-shadow: 0 4px 18px var(--shadow); }
    50%      { box-shadow: 0 4px 28px rgba(255,110,180,0.35); }
  }

  /* ã‚«ãƒ¼ãƒ‰ä¸Šéƒ¨ï¼šç•ªå·ï¼‹ã‚­ãƒ£ãƒ©å */
  .card-meta {
    display: flex; align-items: center; gap: 0.5rem;
  }
  .num-badge {
    font-size: 0.72rem;
    font-weight: 900;
    min-width: 2rem;
    text-align: center;
    padding: 0.2rem 0.4rem;
    background: var(--accent-color, var(--pink));
    color: white;
    border-radius: 8px;
    line-height: 1;
  }
  .chara-name {
    font-size: 0.8rem;
    font-weight: 700;
    color: var(--accent-color, var(--pink));
    background: color-mix(in srgb, var(--accent-color, var(--pink)) 12%, white);
    padding: 0.2rem 0.6rem;
    border-radius: 999px;
  }

  /* ã‚»ãƒªãƒ• */
  .serif-text {
    font-size: 0.97rem;
    font-weight: 700;
    color: var(--text);
    line-height: 1.55;
    flex: 1;
  }

  /* å†ç”Ÿãƒœã‚¿ãƒ³ */
  .play-btn {
    font-family: inherit;
    font-size: 0.9rem;
    font-weight: 700;
    display: flex; align-items: center; justify-content: center; gap: 0.4rem;
    padding: 0.55rem 1rem;
    border-radius: 999px;
    border: none;
    cursor: pointer;
    background: linear-gradient(135deg, var(--accent-color, var(--pink)), color-mix(in srgb, var(--accent-color, var(--pink)) 60%, var(--lavender)));
    color: white;
    box-shadow: 0 3px 12px color-mix(in srgb, var(--accent-color, var(--pink)) 40%, transparent);
    transition: all 0.2s;
    letter-spacing: 0.03em;
  }
  .play-btn:hover    { filter: brightness(1.08); transform: scale(1.04); }
  .play-btn:active   { transform: scale(0.97); }
  .play-btn .icon    { font-size: 1.1rem; transition: transform 0.15s; }
  .play-btn.playing .icon { animation: spin-note 0.6s linear infinite; }
  @keyframes spin-note {
    0%   { transform: rotate(0deg) scale(1.2); }
    50%  { transform: rotate(20deg) scale(1.3); }
    100% { transform: rotate(0deg) scale(1.2); }
  }

  /* ã‚«ãƒ¼ãƒ‰ãŒéè¡¨ç¤ºã®ã¨ã */
  .card.hidden { display: none; }

  /* â”€â”€ ãƒ•ãƒ­ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æ³¢å½¢ â”€â”€ */
  #now-playing {
    display: none;
    position: fixed; bottom: 1.2rem; left: 50%; transform: translateX(-50%);
    background: white;
    border-radius: 999px;
    padding: 0.6rem 1.4rem;
    box-shadow: 0 4px 24px rgba(255,110,180,0.3);
    font-size: 0.85rem;
    font-weight: 700;
    color: var(--pink);
    align-items: center; gap: 0.6rem;
    white-space: nowrap;
    z-index: 100;
    max-width: 90vw;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  #now-playing.visible { display: flex; animation: slide-up 0.3s ease; }
  @keyframes slide-up {
    from { opacity:0; transform: translateX(-50%) translateY(16px); }
    to   { opacity:1; transform: translateX(-50%) translateY(0); }
  }
  .wave-bars {
    display: flex; align-items: center; gap: 2px;
  }
  .wave-bars span {
    display: block; width: 3px; border-radius: 3px;
    background: var(--pink);
    animation: wave 0.8s ease-in-out infinite;
  }
  .wave-bars span:nth-child(1) { height: 8px;  animation-delay: 0.0s; }
  .wave-bars span:nth-child(2) { height: 14px; animation-delay: 0.1s; }
  .wave-bars span:nth-child(3) { height: 10px; animation-delay: 0.2s; }
  .wave-bars span:nth-child(4) { height: 16px; animation-delay: 0.3s; }
  .wave-bars span:nth-child(5) { height: 8px;  animation-delay: 0.15s; }
  @keyframes wave {
    0%,100% { transform: scaleY(1); }
    50%      { transform: scaleY(0.3); }
  }

  /* â”€â”€ ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ– â”€â”€ */
  @media (max-width: 480px) {
    main { grid-template-columns: 1fr; }
  }

  /* â”€â”€ ãƒ•ãƒƒã‚¿ãƒ¼ â”€â”€ */
  .site-footer {
    position: relative; z-index: 1;
    margin: 0 auto 5rem;
    max-width: 680px;
    padding: 0 1.2rem;
  }

  .footer-card {
    background: white;
    border-radius: 24px;
    padding: 1.6rem 2rem;
    box-shadow: 0 4px 24px var(--shadow);
    border: 2px solid #ffd6ec;
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  .footer-label {
    display: inline-flex;
    align-items: center;
    gap: 0.4rem;
    font-size: 0.78rem;
    font-weight: 900;
    letter-spacing: 0.08em;
    color: white;
    background: linear-gradient(135deg, var(--pink), var(--lavender));
    padding: 0.3rem 0.9rem;
    border-radius: 999px;
    width: fit-content;
  }

  .footer-video-row {
    display: flex;
    align-items: center;
    gap: 1rem;
    text-decoration: none;
    color: inherit;
    transition: transform 0.2s;
  }
  .footer-video-row:hover { transform: translateX(4px); }

  .footer-thumb {
    flex-shrink: 0;
    width: 120px;
    height: 68px;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 3px 12px var(--shadow);
    position: relative;
    background: #000;
  }
  .footer-thumb img {
    width: 100%; height: 100%;
    object-fit: cover;
    display: block;
  }
  .footer-thumb .play-overlay {
    position: absolute; inset: 0;
    display: flex; align-items: center; justify-content: center;
    background: rgba(0,0,0,0.28);
    border-radius: 12px;
  }
  .footer-thumb .play-overlay span {
    display: block;
    width: 28px; height: 28px;
    background: rgba(255,255,255,0.9);
    border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    font-size: 0.7rem;
    color: var(--pink);
    padding-left: 2px;
  }

  .footer-video-info {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
  }
  .footer-video-title {
    font-size: 0.88rem;
    font-weight: 700;
    color: var(--text);
    line-height: 1.45;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  .footer-channel {
    display: inline-flex;
    align-items: center;
    gap: 0.3rem;
    font-size: 0.76rem;
    font-weight: 700;
    color: var(--pink);
  }
  .footer-channel::before {
    content: 'ğŸ¬';
    font-size: 0.85rem;
  }

  .footer-url {
    font-size: 0.72rem;
    color: #b090a8;
    word-break: break-all;
    padding: 0.5rem 0.8rem;
    background: #fff5f9;
    border-radius: 10px;
    border: 1px dashed #ffc0dc;
  }

  @media (max-width: 480px) {
    .footer-thumb { width: 90px; height: 52px; }
    .footer-video-title { font-size: 0.82rem; }
    .footer-card { padding: 1.2rem 1.2rem; }
  }
</style>
</head>
<body>

<header>
  <div class="emoji-row">ğŸŒ™ã€€ğŸ¦Šã€€ğŸ’</div>
  <h1>ã‚†ã‹ã¡ãƒœã‚¿ãƒ³</h1>
  <p>ã‚†ã‹ã¡ã®å‹•ç”»ã®ãƒãƒ£ãƒƒãƒˆæ¬„ã§è¨€åŠã•ã‚Œã¦ãŸã‚†ã‹ã¡ãƒœã‚¿ãƒ³ã€ä½œã£ã¡ã‚ƒã„ã¾ã—ãŸã€‚ãƒœã‚¿ãƒ³ã‚’ã‚¿ãƒƒãƒ—ã—ã¦ã‚†ã‹ã¡ã®å£°ã‚’èã“ã†ï¼</p>
</header>



<main id="card-container"></main>

<!-- ãƒ•ãƒƒã‚¿ãƒ¼ï¼šéŸ³å£°å…ƒå‹•ç”» -->
<footer class="site-footer">
  <div class="footer-card">
    <span class="footer-label">ğŸ¦Š éŸ³å£°å…ƒå‹•ç”»ã¯ã“ã¡ã‚‰ï¼</span>
    <a class="footer-video-row"
       href="https://www.youtube.com/live/5U5koA0LH0E?si=zo2r_tKZBskaFllH"
       target="_blank" rel="noopener noreferrer">
      <div class="footer-thumb">
        <img
          src="https://img.youtube.com/vi/5U5koA0LH0E/mqdefault.jpg"
          alt="å‹•ç”»ã‚µãƒ ãƒã‚¤ãƒ«"
          loading="lazy"
        >
        <div class="play-overlay">
          <span>â–¶</span>
        </div>
      </div>
      <div class="footer-video-info">
        <div class="footer-video-title">ã€MyVoiceZooã€‘æ„›ãŒæº¢ã‚Œã™ããŸãƒ¤ãƒ³ãƒ‡ãƒ¬å‹•ç‰©åœ’ï¼æœ¬æ—¥ã‚ªãƒ¼ãƒ—ãƒ³ï¼ã€ #ç¥æ¥½æœˆã‚†ã‹ #ã‹ãã‚†ç¥æ¥½ ã€‘ #æ–°äººvtuber</div>
        <span class="footer-channel">ç¥æ¥½æœˆã‚†ã‹ / Kagurazuki Yuka</span>
      </div>
    </a>
    <div class="footer-url">https://www.youtube.com/live/5U5koA0LH0E?si=zo2r_tKZBskaFllH</div>
  </div>
</footer>

<!-- å†ç”Ÿä¸­ãƒãƒ¼ -->
<div id="now-playing">
  <div class="wave-bars">
    <span></span><span></span><span></span><span></span><span></span>
  </div>
  <span id="now-text">å†ç”Ÿä¸­...</span>
</div>

<script>
// =====================================================================
//  ã‚»ãƒªãƒ•ãƒ•ã‚¡ã‚¤ãƒ«æŒ‡å®šã“ã“ã‹ã‚‰
// =====================================================================
const voices = [
  { encodedFile: "MDFf44Ga44Gj44Go5LiA57eS44Gr5bGF44KI44GG44GtX-OChuOBi-OBo-eLkA.dat", num:"01", serif:"ãšã£ã¨ä¸€ç·’ã«å±…ã‚ˆã†ã­", chara:"ã‚†ã‹ã£ç‹" },
  { encodedFile: "MDJf5ZCb44Gg44GR44Gq44GuX-ODoeOCp-ODvOOBoQ.dat", num:"02", serif:"å›ã ã‘ãªã®", chara:"ãƒ¡ã‚§ãƒ¼ã¡" },
  { encodedFile: "MDNf5aW944GNX-ODieODiuODq-KXi-ODgOODg-OBoQ.dat", num:"03", serif:"å¥½ã", chara:"ãƒ‰ãƒŠãƒ«ã€‡ãƒ€ãƒƒã¡" },
  { encodedFile: "MDRf5pys5b2T44Gv44GT44KT44Gq44GT44Go44GX44Gf44GP44Gq44GE44GuX-OBoeODvOOCug.dat", num:"04", serif:"æœ¬å½“ã¯ã“ã‚“ãªã“ã¨ã—ãŸããªã„ã®", chara:"ã¡ãƒ¼ã‚º" },
  { encodedFile: "MDVf44Ga44Gj44Go5YKN44Gr5bGF44Gm44GtX-ODkuODhOOBoQ.dat", num:"05", serif:"ãšã£ã¨å‚ã«å±…ã¦ã­", chara:"ãƒ’ãƒ„ã¡" },
  { encodedFile: "MDZf5auM44GE44Gr44Gq44KJ44Gq44GE44GnX-ODiOODquOBoQ.dat", num:"06", serif:"å«Œã„ã«ãªã‚‰ãªã„ã§", chara:"ãƒˆãƒªã¡" },
  { encodedFile: "MDdf44Ok44OA44Ok44OA44Ok44OA44Ok44OAX-OCquOCpuOBoQ.dat", num:"07", serif:"ãƒ¤ãƒ€ãƒ¤ãƒ€ãƒ¤ãƒ€ãƒ¤ãƒ€", chara:"ã‚ªã‚¦ã¡" },
  { encodedFile: "MDhf5oCW44GM44KJ44Gb44Gh44KD44Gj44Gm44CB44GU44KB44KT44GtX-ODr-OCt1pPWeKYheOBoQ.dat", num:"08", serif:"æ€–ãŒã‚‰ã›ã¡ã‚ƒã£ã¦ã€ã”ã‚ã‚“ã­", chara:"ãƒ¯ã‚·ZOYâ˜…ã¡" },
  { encodedFile: "MDlf5aW944GN44CC5aW944GN5aW944GN44CC5aW944GN5aW944GN5aW944GNX-ODmuOBoQ.dat", num:"09", serif:"å¥½ãã€‚å¥½ãå¥½ãã€‚å¥½ãå¥½ãå¥½ã", chara:"ãºã¡" },
  { encodedFile: "MTBf5LuK44CB5Lya44GE44Gr6KGM44GP44GL44KJ44GtX-OBl-OCjeOBj-OBvuOBoQ.dat", num:"10", serif:"ä»Šã€ä¼šã„ã«è¡Œãã‹ã‚‰ã­", chara:"ã—ã‚ãã¾ã¡" },
  { encodedFile: "MTFf44GE44Gk44KC6KaL44Gm44KL44KIX-OCu-OCpOOCpuOBoQ.dat", num:"11", serif:"ã„ã¤ã‚‚è¦‹ã¦ã‚‹ã‚ˆ", chara:"ã‚»ã‚¤ã‚¦ã¡" },
  { encodedFile: "MTJf56eB44Gu44GT44Go5aW944GN77yfX-OBj-OBvuOBoQ.dat", num:"12", serif:"ç§ã®ã“ã¨å¥½ãï¼Ÿ", chara:"ãã¾ã¡" },
  { encodedFile: "MTNf44Gq44O844KT44Gn44KC44GX44Gm44GC44GS44KLX1NVTuWApO-8geODlOODs-OBoe-8gQ.dat", num:"13", serif:"ãªãƒ¼ã‚“ã§ã‚‚ã—ã¦ã‚ã’ã‚‹", chara:"SUNå€¤ï¼ãƒ”ãƒ³ãƒï¼" },
  { encodedFile: "MTRf44Gb44KT44Gx44O844GE44CB44GU6aOv6KGM44GN44G-44GX44KH77yfX-OBv-OBv-e-jg.dat", num:"14", serif:"ã›ã‚“ã±ãƒ¼ã„ã€ã”é£¯è¡Œãã¾ã—ã‚‡ï¼Ÿ", chara:"ã¿ã¿ç¾" },
  { encodedFile: "MTVf44Gq44KT44Gn57SE5p2f56C044KL44Gu77yfX-ODs-OCtOOBoQ.dat", num:"15", serif:"ãªã‚“ã§ç´„æŸç ´ã‚‹ã®ï¼Ÿ", chara:"ãƒ³ã‚´ã¡" },
  { encodedFile: "MTZf44GU44KB44KT44Gq44GV44GE44GU44KB44KT44Gq44GV44GE44GU44KB44KT44Gq44GV44GEX-OBlOOCgeOCk-OBquOBleOBhOOBoQ.dat", num:"16", serif:"ã”ã‚ã‚“ãªã•ã„ã”ã‚ã‚“ãªã•â€¦ãªã•ã„", chara:"ã”ã‚ã‚“ãªã•ã„ã¡" },
  { encodedFile: "MTdf44KG44GL44Gh44Gg44Gr44KD44KT77yBX-OChuOBi-OBreOBkw.dat", num:"17", serif:"ã‚†ã‹ã¡ã ã«ã‚ƒã‚“ï¼", chara:"ã‚†ã‹ã­ã“" },
  { encodedFile: "MThf44Gq44KT44Gn6Kyd44Gj44Gm44KC6Kix44GX44Gm44GP44KM44Gq44GE44GuX-eZvueNo-OBrueOi-OBoQ.dat", num:"18", serif:"ãªã‚“ã§è¬ã£ã¦ã‚‚è¨±ã—ã¦ãã‚Œãªã„ã®", chara:"ç™¾ç£ã®ç‹ã¡" },
  { encodedFile: "MTlf44GT44GT44Gv5Lu744Gb44Gm77yB6YCD44GS44Gm77yBX-OCqOODrOODleOCoeODs-ODiOOCq-OCt-ODnuOBoQ.dat", num:"19", serif:"ã“ã“ã¯ä»»ã›ã¦ï¼é€ƒã’ã¦ï¼", chara:"ã‚¨ãƒ¬ãƒ•ã‚¡ãƒ³ãƒˆã‚«ã‚·ãƒã¡" },
  { encodedFile: "MjBf5ZCb44GM6YCD44GS44KI44GG44Go44GZ44KL44GL44KJ44Gg44KIX-OBi-OCgeOBoQ.dat", num:"20", serif:"å›ãŒé€ƒã’ã‚ˆã†ã¨ã™ã‚‹ã‹ã‚‰ã ã‚ˆ", chara:"ã‹ã‚ã¡" },
  { encodedFile: "MjFf44Gd44KM44Gp44GT44Gu5aWz77yfX-ODneODneOBoQ.dat", num:"21", serif:"ãã‚Œã©ã“ã®å¥³ï¼Ÿ", chara:"ãƒãƒã¡" },
  { encodedFile: "MjJf44GT44Gj44Gh6KaL44Gm44KI44CB44KG44GL44Gh44KS6KaL44GmX-ibmeOBruicnOOBoQ.dat", num:"22", serif:"ã“ã£ã¡è¦‹ã¦ã‚ˆã€ã‚†ã‹ã¡ã‚’è¦‹ã¦", chara:"è›™ã®èœœã¡" },
  { encodedFile: "MjNf44KC44GG6YCD44GS44KJ44KM44Gq44GE44GtX-e-juWRs-OBoQ.dat", num:"23", serif:"ã‚‚ã†é€ƒã’ã‚‰ã‚Œãªã„ã­", chara:"ç¾å‘³ã¡" },
  { encodedFile: "MjRf44Gq44KT44Gn44Gd44KT44Gq44GT44Go6KiA44GG44Gu77yfX-OCtOODquOBoQ.dat", num:"24", serif:"ãªã‚“ã§ãã‚“ãªã“ã¨è¨€ã†ã®ï¼Ÿ", chara:"ã‚´ãƒªã¡" },
  { encodedFile: "MjVf5L2V5Yem6KGM44GP44Gu77yfX-ODkOODvOODvOODvOODvOODvOODvOODs-OBoQ.dat", num:"25", serif:"ä½•å‡¦è¡Œãã®ï¼Ÿ", chara:"ãƒãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ã‚“ã¡" },
  { encodedFile: "MjZf5ZCb44Gv44KG44GL44Gh44Gg44GR6KaL44Gm44KM44Gw6Imv44GE44GuX-ODn-ODq-OBoeODvA.dat", num:"26", serif:"å›ã¯ã‚†ã‹ã¡ã ã‘è¦‹ã¦ã‚Œã°è‰¯ã„ã®", chara:"ãƒŸãƒ«ã¡ãƒ¼" },
  { encodedFile: "Mjdf44Gp44GG44GX44Gm77yfX-OCrOODluOBoQ.dat", num:"27", serif:"ã©ã†ã—ã¦ï¼Ÿ", chara:"ã‚¬ãƒ–ã¡" },
  { encodedFile: "Mjhf44Gd44Gu6Laz44GY44KD5LiK5omL44GP6YCD44GS44KJ44KM44Gq44GE44Go5oCd44GG44GR44GpX-OBoOOCieOBkeOBoQ.dat", num:"28", serif:"ãã®è¶³ã˜ã‚ƒä¸Šæ‰‹ãé€ƒã’ã‚‰â€¦ã„ã¨æ€ã†ã‘ã©", chara:"ã ã‚‰ã‘ã¡" },
  { encodedFile: "Mjlf44KC44GG6aOf44G544Gh44KD44GKX-mjn-OCgOOBoQ.dat", num:"29", serif:"ã‚‚ã†é£Ÿã¹ã¡ã‚ƒãŠ", chara:"é£Ÿã‚€ã¡" },
  { encodedFile: "MzBf5oSb44GX44Gm44KLX-OBpOOCgOOBoQ.dat", num:"30", serif:"æ„›ã—ã¦ã‚‹", chara:"ã¤ã‚€ã¡" },
];

// =====================================================================
//  ã‚»ãƒªãƒ•ãƒ•ã‚¡ã‚¤ãƒ«æŒ‡å®šã“ã“ã¾ã§
// =====================================================================

// ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆï¼ˆã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã”ã¨ã«å‰²ã‚Šå½“ã¦ï¼‰
const palette = [
  "#ff6eb4","#ff8c42","#f5c800","#5ec97a","#4db6e8",
  "#a67cff","#ff5e7a","#00c9a7","#ff7eb3","#6bcbff",
];
const charaColorMap = {};
let colorIdx = 0;
function getCharaColor(chara) {
  if (!charaColorMap[chara]) {
    charaColorMap[chara] = palette[colorIdx % palette.length];
    colorIdx++;
  }
  return charaColorMap[chara];
}

// â”€â”€ DOM ç”Ÿæˆ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const container   = document.getElementById("card-container");
const nowPlaying  = document.getElementById("now-playing");
const nowText     = document.getElementById("now-text");

let currentAudio  = null;
let currentCard   = null;
let currentBtn    = null;


// ã‚«ãƒ¼ãƒ‰ç”Ÿæˆ
voices.forEach((v, i) => {
  const color = getCharaColor(v.chara);
  const card = document.createElement("div");
  card.className = "card";
  card.dataset.chara = v.chara;
  card.style.setProperty("--accent-color", color);

  card.innerHTML = `
    <div class="card-meta">
      <span class="num-badge">${v.num}</span>
      <span class="chara-name">${v.chara}</span>
    </div>
    <div class="serif-text">${v.serif}</div>
    <button class="play-btn" aria-label="å†ç”Ÿ">
      <span class="icon">â–¶</span> å†ç”Ÿ
    </button>
  `;

  const btn = card.querySelector(".play-btn");
  btn.addEventListener("click", () => togglePlay(v, card, btn));
  container.appendChild(card);
});

// â”€â”€ å†ç”Ÿåˆ¶å¾¡ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function togglePlay(v, card, btn) {
  // åŒã˜ã‚«ãƒ¼ãƒ‰ã‚’ã‚‚ã†ä¸€åº¦æŠ¼ã—ãŸã‚‰åœæ­¢
  if (currentAudio && currentCard === card) {
    stopCurrent();
    return;
  }
  // åˆ¥ã®ã‚«ãƒ¼ãƒ‰ãŒå†ç”Ÿä¸­ãªã‚‰æ­¢ã‚ã‚‹
  if (currentAudio) stopCurrent();

  const audio = new Audio(`audio/${v.encodedFile}`);
  currentAudio = audio;
  currentCard  = card;
  currentBtn   = btn;

  setPlaying(true, btn, card, v.serif);
  audio.play().catch(() => {
    // éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ãŒè¦‹ã¤ã‹ã‚‰ãªã„å ´åˆã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
    console.warn("éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“:", v.encodedFile);
    setPlaying(false, btn, card, "");
  });
  audio.addEventListener("ended", () => {
    setPlaying(false, btn, card, "");
    currentAudio = currentCard = currentBtn = null;
  });
}

function stopCurrent() {
  if (!currentAudio) return;
  currentAudio.pause();
  currentAudio.currentTime = 0;
  setPlaying(false, currentBtn, currentCard, "");
  currentAudio = currentCard = currentBtn = null;
}

function setPlaying(flag, btn, card, serif) {
  btn.classList.toggle("playing", flag);
  card.classList.toggle("playing", flag);
  btn.innerHTML = flag
    ? '<span class="icon">â™ª</span> å†ç”Ÿä¸­'
    : '<span class="icon">â–¶</span> å†ç”Ÿ';
  nowPlaying.classList.toggle("visible", flag);
  if (flag) nowText.textContent = serif;
}

</script>
</body>
</html>
